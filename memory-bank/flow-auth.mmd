flowchart TD
    A1["Usuário acessa página de login"]
    A2["Envia credenciais"]
    A3["Valida credenciais e gera JWT"]
    A4["JWT inclui sub, cliente_id, role"]
    A5["Middleware valida JWT em cada request"]
    A6["Injeta contexto (usuário, cliente, permissões)"]
    A7["Permite ou bloqueia acesso à rota/módulo"]
    A1 --> A2 --> A3 --> A4
    A4 --> A5 --> A6 --> A7 